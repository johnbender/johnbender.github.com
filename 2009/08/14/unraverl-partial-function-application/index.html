
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Unraverl: Partial Function Application</title>
    
    <meta name="author" content="John Bender">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
    <link href="//johnbender.github.com/writing/assets/themes/twitter/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="//johnbender.github.com/writing/assets/themes/twitter/css/style.css?body=1" rel="stylesheet" type="text/css" media="all">

    <!-- Le fav and touch icons -->
  <!-- Update these with your own images
    <link rel="shortcut icon" href="images/favicon.ico">
    <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
  -->
  </head>

  <body>

    <div class="navbar">
      <div class="navbar-inner">
        <div class="container">
          <a class="brand" href="//johnbender.github.com/writing">johnbender.us</a>
          <ul class="nav">
            
            
            


  
    
      
    
  
    
      
      	
      	<li><a href="//johnbender.github.com/writing/archive.html">Archive</a></li>
      	
      
    
  
    
      
    
  
    
      
      	
      	<li><a href="//johnbender.github.com/writing/categories.html">Categories</a></li>
      	
      
    
  
    
      
    
  
    
      
      	
      	<li><a href="//johnbender.github.com/writing/tags.html">Tags</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="//johnbender.github.com/writing/pages.html">Pages</a></li>
      	
      
    
  



          </ul>
        </div>
      </div>
    </div>

    <div class="container">

      <div class="content">
        
<div class="page-header">
  <h1>Unraverl: Partial Function Application <small>Supporting tagline</small></h1>
</div>

<div class="row">
  <div class="span8">
    <h2>What is it?</h2>

Last weekend I hacked partial application into my parse transform for erlang, unraverl. The rules are very simple but the implications are interesting if nothing else.

In other functional languages, haskell as an example, there's nothing inherently wrong with defining a function that requires two arguments but giving it one.

<pre>
<span class="function-name">add</span> x y <span class="variable-name">=</span> x <span class="variable-name">+</span> y
<span class="function-name">example</span> <span class="variable-name">=</span> add 1
<span class="comment-delimiter">{- </span><span class="comment">=&gt; \y -&gt; 1 + y -}</span></pre>
<br />

The result is a lambda where the supplied argument is applied across the code in the function.

<h2>Unraverl's implementation?</h2>

Using the initial example in Erlang

<pre>
<span class="function-name">add</span>(x, y) -&gt;<span class="function-name"> </span>x + y.

<span class="function-name">example</span>() -&gt;<span class="function-name"> </span>add(1).
</pre>
<br />

the parse transform sees that there are no local (only) functions named 'add' with an arity of 1. It then finds the next highest arity definition and changes the call to accommodate

<pre>
<span class="comment-delimiter">%% </span><span class="comment">roughly
</span><span class="function-name">example</span>() -&gt;<span class="function-name"> </span><span class="keyword">fun</span>(y) -&gt;<span class="function-name"> </span>add(1, y) <span class="keyword">end</span>.</pre>
<br />

So while haskell applies whatever arguments are available to the actual function (internally I'm not sure how its implemented), unraverl simply wraps a call to the actual function in a new fun requiring the remaining arguments.

To make use of this feature in your own applications simply add the compiler directive

 <pre>
<span class="function-name">-compile</span>([{parse_transform, unraverl}]). </pre>
<br />

and make sure the <a href="http://github.com/johnbender/unraverl/tree/master">library</a> is in the code path.

As yet, it doesn't have a makefile or unit tests so use at your own peril.



    <hr>
    <div class="pagination">
      <ul>
      
        <li class="prev"><a href="//johnbender.github.com/writing/2009/06/29/where-to-from-here" title="Where to from here...">&larr; Previous</a></li>
      
        <li><a href="//johnbender.github.com/writing/archive.html">Archive</a></li>
      
        <li class="next"><a href="//johnbender.github.com/writing/2009/08/22/rquery-refactored-and-simplified" title="RQuery: refactored and simplified">Next &rarr;</a></li>
      
      </ul>
    </div>
    <hr>
    
  </div>
  
  <div class="span4">
    <h4>Published</h4>
    <div class="date"><span>14 August 2009</span></div>

  
    <h4>Tags</h4>
    <ul class="tag_box">
    
    


  
     
    	<li><a href="//johnbender.github.com/writing/tags.html#erlang-ref">erlang <span>7</span></a></li>
     
    	<li><a href="//johnbender.github.com/writing/tags.html#erlang-ref">erlang <span>7</span></a></li>
     
    	<li><a href="//johnbender.github.com/writing/tags.html#unraverl-ref">unraverl <span>2</span></a></li>
     
    	<li><a href="//johnbender.github.com/writing/tags.html#parse-ref">parse <span>1</span></a></li>
     
    	<li><a href="//johnbender.github.com/writing/tags.html#transform-ref">transform <span>1</span></a></li>
     
    	<li><a href="//johnbender.github.com/writing/tags.html#functional-ref">functional <span>14</span></a></li>
     
    	<li><a href="//johnbender.github.com/writing/tags.html#programming-ref">programming <span>28</span></a></li>
    
  



    </ul>
    
  </div>
</div>


      </div>

      <footer>
        <p>&copy; John Bender 2012 
          with help from <a href="http://jekyllbootstrap.com" target="_blank" title="The Definitive Jekyll Blogging Framework">Jekyll Bootstrap</a>
          and <a href="http://twitter.github.com/bootstrap/" target="_blank">Twitter Bootstrap</a>
        </p>
      </footer>

    </div> <!-- /container -->

    
  </body>
</html>

